var Re=Object.defineProperty;var be=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var Ce=(l,e,s)=>e in l?Re(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,ye=(l,e)=>{for(var s in e||(e={}))Be.call(e,s)&&Ce(l,s,e[s]);if(be)for(var s of be(e))He.call(e,s)&&Ce(l,s,e[s]);return l};import{O as Ue,C as de,P as Z,S as O,i as X,s as q,e as C,c as y,a as w,d as p,b as g,Q as Y,f as D,J as F,R as ne,k as $,n as I,F as _,t as N,g as P,h as fe,T as re,x as V,j as K,m as ee,o as te,u as B,v as se,r as ae,w as ce,L,N as he,A as Se,U as ue,V as Ye,W as Le,X as We,Y as ze,Z as we,_ as Fe,$ as Oe,a0 as Xe}from"../chunks/vendor-d6fa1b04.js";import{b as me}from"../chunks/paths-28a87002.js";const qe=()=>{const l=Ue("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:l.navigating.subscribe}},session:l.session}},Je={subscribe(l){return qe().page.subscribe(l)}},J=de(new Array),ge=de(null),ie=de(0);var oe;(function(l){l[l.Empty=0]="Empty",l[l.Marked=1]="Marked",l[l.Crossed=2]="Crossed"})(oe||(oe={}));var Q;(function(l){l[l.Marking=0]="Marking",l[l.Crossing=1]="Crossing"})(Q||(Q={}));class Qe{constructor(){this.rows=5,this.cols=5,this.selectionMode=0,this.timerId=null}getRows(){return this.rows}getCols(){return this.cols}startNewGrid(e=5,s=5){this.rows=s,this.cols=e,J.set(le.generateGrid(e,s))}startTimer(){this.timerId=setInterval(()=>{const e=Z(ie);ie.set(e+1)},1e3)}stopTimer(){clearInterval(this.timerId),this.timerId=null}applySelection(e){const s=Z(J),t=s[e.startCoord.x][e.startCoord.y];let r;switch(t.state){case 1:r=0;break;case 2:r=0;break;case 0:this.selectionMode===0?r=1:this.selectionMode===1&&(r=2);break}let o="",n,i;e.startCoord.x===e.endCoord.x?(o="col",e.startCoord.y>e.endCoord.y?(n=e.endCoord.y,i=e.startCoord.y):(n=e.startCoord.y,i=e.endCoord.y)):e.startCoord.y===e.endCoord.y&&(o="row",e.startCoord.x>e.endCoord.x?(n=e.endCoord.x,i=e.startCoord.x):(n=e.startCoord.x,i=e.endCoord.x));const u=s.map(h=>h.map(f=>{const m=ye({},f);return f.state!==t.state?m:o==="col"&&f.x===e.startCoord.x&&f.y>=n&&f.y<=i?(m.state=r,m):(o==="row"&&f.y===e.startCoord.y&&f.x>=n&&f.x<=i&&(m.state=r),m)}));J.set(u)}solutionIsValid(){const e=Z(J);let s=!1;return s=e.reduce((t,r)=>t?!0:r.reduce((o,n)=>o?!0:!(n.target===!0?n.state===1:n.state!==1),t),s),!s}}class le{static generateGrid(e,s){const t=new Array;for(let r=0;r<e;r++){const o=new Array;for(let n=0;n<s;n++){const i=Math.random()>=.5;o[n]={state:0,target:i,x:r,y:n}}t.push(o)}return t}static coordsAreInSelection(e,s,t){const[r,o]=t.startCoord.x>t.endCoord.x?[t.endCoord.x,t.startCoord.x]:[t.startCoord.x,t.endCoord.x],[n,i]=t.startCoord.y>t.endCoord.y?[t.endCoord.y,t.startCoord.y]:[t.startCoord.y,t.endCoord.y];return e>=r&&e<=o&&s>=n&&s<=i}static getRowGroups(e){const s=Z(J),t=[];let r=0;for(let o=0;o<s.length;o++)s[o][e].target?r++:r!==0&&(t.push(r),r=0);return r!==0&&t.push(r),t}static getColGroups(e){const s=Z(J),t=[];let r=0;for(let o=s[0].length-1;o>=0;o--)s[e][o].target?r++:r!==0&&(t.push(r),r=0);return r!==0&&t.push(r),t}static printGridSolution(){const e=Z(J);let s="";for(let t=e[0].length-1;t>=0;t--){for(let r=0;r<e.length;r++)s+=e[r][t].target?"X ":"o ";s+=`
`}console.log(s)}}class Ze{constructor(e){this.controller=e,this.initialCoords=null,this.endCoords=null,this.valid=!1,this.onMouseDown=s=>{this.initialCoords=this.getGridCoordsFromScreenCoords(s.x,s.y),this.endCoords=this.initialCoords,this.updateSelection(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},this.onMouseMove=s=>{this.endCoords=this.getGridCoordsFromScreenCoords(s.x,s.y),this.valid=this.isValidSelection(),this.updateSelection()},this.onMouseUp=s=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.isValidSelection()&&this.controller.applySelection(this.getGridSelection()),this.resetSelection()},this.onTouchStart=s=>{this.initialCoords=this.getGridCoordsFromScreenCoords(s.touches[0].pageX,s.touches[0].pageY),this.endCoords=this.initialCoords,this.updateSelection(),document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd)},this.onTouchMove=s=>{this.endCoords=this.getGridCoordsFromScreenCoords(s.touches[0].pageX,s.touches[0].pageY),this.valid=this.isValidSelection(),this.updateSelection()},this.onTouchEnd=s=>{s.preventDefault(),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd),this.isValidSelection()&&this.controller.applySelection(this.getGridSelection()),this.resetSelection()},this.onMouseDown.bind(this),this.onMouseMove.bind(this),this.onMouseUp.bind(this)}updateSelection(){const e=this.getGridSelection();Z(ge)!==e&&ge.set(e)}isValidSelection(){return this.initialCoords===null||this.endCoords===null?!1:this.initialCoords.x===this.endCoords.x||this.initialCoords.y===this.endCoords.y}getGridSelection(){return this.initialCoords===null?null:{startCoord:this.initialCoords,endCoord:this.endCoords,valid:this.isValidSelection()}}getGridCoordsFromScreenCoords(e,s){const t=document.elementFromPoint(e,s),r=parseInt(t.getAttribute("data-x")),o=parseInt(t.getAttribute("data-y"));return{x:r,y:o}}resetSelection(){this.valid=!1,this.initialCoords=null,this.endCoords=null,this.updateSelection()}}function Ke(l){let e,s,t;return{c(){e=C("div"),this.h()},l(r){e=y(r,"DIV",{"data-x":!0,"data-y":!0,class:!0}),w(e).forEach(p),this.h()},h(){g(e,"data-x",s=l[0].x),g(e,"data-y",t=l[0].y),g(e,"class","svelte-1u7i03s"),Y(e,"marked",l[0].state===oe.Marked),Y(e,"crossed",l[0].state===oe.Crossed),Y(e,"selection",l[1])},m(r,o){D(r,e,o)},p(r,[o]){o&1&&s!==(s=r[0].x)&&g(e,"data-x",s),o&1&&t!==(t=r[0].y)&&g(e,"data-y",t),o&1&&Y(e,"marked",r[0].state===oe.Marked),o&1&&Y(e,"crossed",r[0].state===oe.Crossed),o&2&&Y(e,"selection",r[1])},i:F,o:F,d(r){r&&p(e)}}}function et(l,e,s){let t;ne(l,ge,n=>s(2,t=n));let{gridCell:r}=e,o=!1;return l.$$set=n=>{"gridCell"in n&&s(0,r=n.gridCell)},l.$$.update=()=>{l.$$.dirty&5&&(t===null||!t.valid?s(1,o=!1):s(1,o=le.coordsAreInSelection(r.x,r.y,t)))},[r,o,t]}class tt extends O{constructor(e){super();X(this,e,et,Ke,q,{gridCell:0})}}function ke(l,e,s){const t=l.slice();return t[12]=e[s],t[13]=e,t[14]=s,t}function Ee(l,e,s){const t=l.slice();return t[15]=e[s],t}function Me(l,e,s){const t=l.slice();return t[18]=e[s],t}function xe(l,e,s){const t=l.slice();return t[21]=e[s],t}function Te(l,e,s){const t=l.slice();return t[12]=e[s],t}function Ge(l,e,s){const t=l.slice();return t[21]=e[s],t}function $e(l){let e=l[21]+"",s,t;return{c(){s=N(e),t=C("br")},l(r){s=P(r,e),t=y(r,"BR",{})},m(r,o){D(r,s,o),D(r,t,o)},p(r,o){o&16&&e!==(e=r[21]+"")&&fe(s,e)},d(r){r&&p(s),r&&p(t)}}}function Ie(l){let e,s,t=le.getColGroups(l[12][0].x),r=[];for(let o=0;o<t.length;o+=1)r[o]=$e(Ge(l,t,o));return{c(){e=C("span");for(let o=0;o<r.length;o+=1)r[o].c();s=$(),this.h()},l(o){e=y(o,"SPAN",{class:!0});var n=w(e);for(let i=0;i<r.length;i+=1)r[i].l(n);s=I(n),n.forEach(p),this.h()},h(){g(e,"class","svelte-19vjjpb")},m(o,n){D(o,e,n);for(let i=0;i<r.length;i+=1)r[i].m(e,null);_(e,s)},p(o,n){if(n&16){t=le.getColGroups(o[12][0].x);let i;for(i=0;i<t.length;i+=1){const u=Ge(o,t,i);r[i]?r[i].p(u,n):(r[i]=$e(u),r[i].c(),r[i].m(e,s))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(o){o&&p(e),re(r,o)}}}function Ae(l){let e=l[21]+"",s,t;return{c(){s=N(e),t=N("\xA0")},l(r){s=P(r,e),t=P(r,"\xA0")},m(r,o){D(r,s,o),D(r,t,o)},p(r,o){o&16&&e!==(e=r[21]+"")&&fe(s,e)},d(r){r&&p(s),r&&p(t)}}}function De(l){let e,s,t,r=le.getRowGroups(l[18].y),o=[];for(let n=0;n<r.length;n+=1)o[n]=Ae(xe(l,r,n));return{c(){e=C("div"),s=C("span");for(let n=0;n<o.length;n+=1)o[n].c();t=$(),this.h()},l(n){e=y(n,"DIV",{class:!0});var i=w(e);s=y(i,"SPAN",{});var u=w(s);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(p),t=I(i),i.forEach(p),this.h()},h(){g(e,"class","svelte-19vjjpb")},m(n,i){D(n,e,i),_(e,s);for(let u=0;u<o.length;u+=1)o[u].m(s,null);_(e,t)},p(n,i){if(i&16){r=le.getRowGroups(n[18].y);let u;for(u=0;u<r.length;u+=1){const h=xe(n,r,u);o[u]?o[u].p(h,i):(o[u]=Ae(h),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(n){n&&p(e),re(o,n)}}}function Ve(l){let e,s;return e=new tt({props:{gridCell:l[15]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,r){const o={};r&16&&(o.gridCell=t[15]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function je(l){let e,s,t=l[14],r,o=l[12],n=[];for(let f=0;f<o.length;f+=1)n[f]=Ve(Ee(l,o,f));const i=f=>B(n[f],1,1,()=>{n[f]=null}),u=()=>l[10](e,t),h=()=>l[10](null,t);return{c(){e=C("div");for(let f=0;f<n.length;f+=1)n[f].c();s=$(),this.h()},l(f){e=y(f,"DIV",{class:!0});var m=w(e);for(let d=0;d<n.length;d+=1)n[d].l(m);s=I(m),m.forEach(p),this.h()},h(){g(e,"class","grid-column svelte-19vjjpb")},m(f,m){D(f,e,m);for(let d=0;d<n.length;d+=1)n[d].m(e,null);_(e,s),u(),r=!0},p(f,m){if(l=f,m&16){o=l[12];let d;for(d=0;d<o.length;d+=1){const E=Ee(l,o,d);n[d]?(n[d].p(E,m),V(n[d],1)):(n[d]=Ve(E),n[d].c(),V(n[d],1),n[d].m(e,s))}for(ae(),d=o.length;d<n.length;d+=1)i(d);ce()}t!==l[14]&&(h(),t=l[14],u())},i(f){if(!r){for(let m=0;m<o.length;m+=1)V(n[m]);r=!0}},o(f){n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)B(n[m]);r=!1},d(f){f&&p(e),re(n,f),h()}}}function st(l){let e,s,t,r,o,n,i,u,h,f,m=l[4],d=[];for(let a=0;a<m.length;a+=1)d[a]=Ie(Te(l,m,a));let E=l[4][0],S=[];for(let a=0;a<E.length;a+=1)S[a]=De(Me(l,E,a));let v=l[4],b=[];for(let a=0;a<v.length;a+=1)b[a]=je(ke(l,v,a));const M=a=>B(b[a],1,1,()=>{b[a]=null});return{c(){e=C("div"),s=C("div"),t=C("div");for(let a=0;a<d.length;a+=1)d[a].c();r=$(),o=C("div");for(let a=0;a<S.length;a+=1)S[a].c();n=$(),i=C("div");for(let a=0;a<b.length;a+=1)b[a].c();this.h()},l(a){e=y(a,"DIV",{id:!0,class:!0});var k=w(e);s=y(k,"DIV",{id:!0,class:!0});var c=w(s);t=y(c,"DIV",{id:!0,class:!0});var T=w(t);for(let H=0;H<d.length;H+=1)d[H].l(T);T.forEach(p),r=I(c),o=y(c,"DIV",{id:!0,class:!0});var R=w(o);for(let H=0;H<S.length;H+=1)S[H].l(R);R.forEach(p),n=I(c),i=y(c,"DIV",{id:!0,class:!0});var W=w(i);for(let H=0;H<b.length;H+=1)b[H].l(W);W.forEach(p),c.forEach(p),k.forEach(p),this.h()},h(){g(t,"id","column-headings"),g(t,"class","svelte-19vjjpb"),g(o,"id","row-headings"),g(o,"class","svelte-19vjjpb"),g(i,"id","cell-container"),g(i,"class","svelte-19vjjpb"),g(s,"id","grid-container"),g(s,"class","svelte-19vjjpb"),g(e,"id","grid-slot"),g(e,"class","flex svelte-19vjjpb")},m(a,k){D(a,e,k),_(e,s),_(s,t);for(let c=0;c<d.length;c+=1)d[c].m(t,null);l[8](t),_(s,r),_(s,o);for(let c=0;c<S.length;c+=1)S[c].m(o,null);l[9](o),_(s,n),_(s,i);for(let c=0;c<b.length;c+=1)b[c].m(i,null);l[11](e),u=!0,h||(f=[L(window,"resize",l[6]),L(i,"mousedown",l[5].onMouseDown),L(i,"touchstart",l[5].onTouchStart)],h=!0)},p(a,[k]){if(k&16){m=a[4];let c;for(c=0;c<m.length;c+=1){const T=Te(a,m,c);d[c]?d[c].p(T,k):(d[c]=Ie(T),d[c].c(),d[c].m(t,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=m.length}if(k&16){E=a[4][0];let c;for(c=0;c<E.length;c+=1){const T=Me(a,E,c);S[c]?S[c].p(T,k):(S[c]=De(T),S[c].c(),S[c].m(o,null))}for(;c<S.length;c+=1)S[c].d(1);S.length=E.length}if(k&24){v=a[4];let c;for(c=0;c<v.length;c+=1){const T=ke(a,v,c);b[c]?(b[c].p(T,k),V(b[c],1)):(b[c]=je(T),b[c].c(),V(b[c],1),b[c].m(i,null))}for(ae(),c=v.length;c<b.length;c+=1)M(c);ce()}},i(a){if(!u){for(let k=0;k<v.length;k+=1)V(b[k]);u=!0}},o(a){b=b.filter(Boolean);for(let k=0;k<b.length;k+=1)B(b[k]);u=!1},d(a){a&&p(e),re(d,a),l[8](null),re(S,a),l[9](null),re(b,a),l[11](null),h=!1,he(f)}}}function rt(l,e,s){let t;ne(l,J,v=>s(4,t=v));let{controller:r}=e,o=new Ze(r),n,i,u,h=[];const f=()=>{let v=n.clientHeight,b=n.clientWidth,M=i.clientHeight,a=u.clientWidth,k=(v-M)/r.getRows(),c=(b-a)/r.getCols(),T=(k<c?k:c)+"px";h.forEach(R=>{R.style.width=T})};Se(()=>f());function m(v){ue[v?"unshift":"push"](()=>{i=v,s(1,i)})}function d(v){ue[v?"unshift":"push"](()=>{u=v,s(2,u)})}function E(v,b){ue[v?"unshift":"push"](()=>{h[b]=v,s(3,h)})}function S(v){ue[v?"unshift":"push"](()=>{n=v,s(0,n)})}return l.$$set=v=>{"controller"in v&&s(7,r=v.controller)},[n,i,u,h,t,o,f,r,m,d,E,S]}class ot extends O{constructor(e){super();X(this,e,rt,st,q,{controller:7})}}function lt(l){let e,s;return{c(){e=C("span"),s=N(l[0]),this.h()},l(t){e=y(t,"SPAN",{class:!0});var r=w(e);s=P(r,l[0]),r.forEach(p),this.h()},h(){g(e,"class","mr-6")},m(t,r){D(t,e,r),_(e,s)},p(t,[r]){r&1&&fe(s,t[0])},i:F,o:F,d(t){t&&p(e)}}}function nt(l,e,s){let t;ne(l,ie,o=>s(1,t=o));let r="00:00";return l.$$.update=()=>{if(l.$$.dirty&2){let o=new Date(null);o.setSeconds(t);let n=String(o.getMinutes()).padStart(2,"0"),i=String(o.getSeconds()).padStart(2,"0");s(0,r=`${n}:${i}`)}},[r,t]}class it extends O{constructor(e){super();X(this,e,nt,lt,q,{})}}function at(l){let e,s,t,r,o,n,i,u,h,f,m,d,E,S,v,b;return{c(){e=C("div"),t=$(),r=C("div"),o=C("h1"),n=N("Paused"),i=$(),u=C("div"),h=C("a"),f=N("Return to main menu"),m=$(),d=C("button"),E=N("Resume Game"),this.h()},l(M){e=y(M,"DIV",{id:!0,style:!0,class:!0}),w(e).forEach(p),t=I(M),r=y(M,"DIV",{id:!0,style:!0,class:!0});var a=w(r);o=y(a,"H1",{class:!0});var k=w(o);n=P(k,"Paused"),k.forEach(p),i=I(a),u=y(a,"DIV",{class:!0});var c=w(u);h=y(c,"A",{href:!0,class:!0});var T=w(h);f=P(T,"Return to main menu"),T.forEach(p),m=I(c),d=y(c,"BUTTON",{class:!0});var R=w(d);E=P(R,"Resume Game"),R.forEach(p),c.forEach(p),a.forEach(p),this.h()},h(){g(e,"id","backdrop"),g(e,"style",s=l[0]?"":"display: none;"),g(e,"class","svelte-bp4law"),g(o,"class","text-6xl mb-4 uppercase"),g(h,"href",""+(me+"/")),g(h,"class","block text-4xl bg-red-300 p-4 rounded-md"),g(d,"class","text-4xl p-4 bg-green-300 border-2 border-green-400 rounded-md"),g(u,"class","flex flex-col h-full justify-center align-middle gap-8"),g(r,"id","menu"),g(r,"style",S=l[0]?"":"display: none;"),g(r,"class","svelte-bp4law")},m(M,a){D(M,e,a),D(M,t,a),D(M,r,a),_(r,o),_(o,n),_(r,i),_(r,u),_(u,h),_(h,f),_(u,m),_(u,d),_(d,E),v||(b=[L(h,"click",l[2]),L(d,"click",l[3])],v=!0)},p(M,[a]){a&1&&s!==(s=M[0]?"":"display: none;")&&g(e,"style",s),a&1&&S!==(S=M[0]?"":"display: none;")&&g(r,"style",S)},i:F,o:F,d(M){M&&p(e),M&&p(t),M&&p(r),v=!1,he(b)}}}function ct(l,e,s){const t=Ye();let{modalActive:r=!1}=e,o=i=>{confirm("Are you sure you want to leave? You will lose your progress on this level.")||i.preventDefault()};const n=()=>t("resume");return l.$$set=i=>{"modalActive"in i&&s(0,r=i.modalActive)},[r,t,o,n]}class ut extends O{constructor(e){super();X(this,e,ct,at,q,{modalActive:0})}}function dt(l){let e,s,t,r,o,n,i;return r=new ut({props:{modalActive:l[0]}}),r.$on("resume",l[2]),{c(){e=C("button"),s=N("Pause"),t=$(),K(r.$$.fragment),this.h()},l(u){e=y(u,"BUTTON",{class:!0});var h=w(e);s=P(h,"Pause"),h.forEach(p),t=I(u),ee(r.$$.fragment,u),this.h()},h(){g(e,"class","border-2 border-blue-300 hover:bg-blue-200 active:bg-blue-400 transition-colors rounded-md p-2")},m(u,h){D(u,e,h),_(e,s),D(u,t,h),te(r,u,h),o=!0,n||(i=L(e,"click",l[1]),n=!0)},p(u,[h]){const f={};h&1&&(f.modalActive=u[0]),r.$set(f)},i(u){o||(V(r.$$.fragment,u),o=!0)},o(u){B(r.$$.fragment,u),o=!1},d(u){u&&p(e),u&&p(t),se(r,u),n=!1,i()}}}function ft(l,e,s){let{controller:t}=e,r=!1;const o=()=>{s(0,r=!0),t.stopTimer()},n=()=>{s(0,r=!1),t.startTimer()};return l.$$set=i=>{"controller"in i&&s(3,t=i.controller)},[r,o,n,t]}class ht extends O{constructor(e){super();X(this,e,ft,dt,q,{controller:3})}}function mt(l){let e,s,t,r,o,n,i,u,h,f,m,d,E,S,v,b;return{c(){e=C("div"),s=C("h1"),t=N("You completed this nonogram!"),r=$(),o=C("p"),n=N("Your completion time: "),i=C("span"),u=N(l[0]),h=$(),f=C("a"),m=N("Play Again"),d=$(),E=C("a"),S=N("Return to Main Menu"),this.h()},l(M){e=y(M,"DIV",{class:!0});var a=w(e);s=y(a,"H1",{class:!0});var k=w(s);t=P(k,"You completed this nonogram!"),k.forEach(p),r=I(a),o=y(a,"P",{class:!0});var c=w(o);n=P(c,"Your completion time: "),i=y(c,"SPAN",{class:!0});var T=w(i);u=P(T,l[0]),T.forEach(p),c.forEach(p),h=I(a),f=y(a,"A",{href:!0,class:!0});var R=w(f);m=P(R,"Play Again"),R.forEach(p),d=I(a),E=y(a,"A",{href:!0,class:!0});var W=w(E);S=P(W,"Return to Main Menu"),W.forEach(p),a.forEach(p),this.h()},h(){g(s,"class","text-4xl mb-4"),g(i,"class","text-green-500"),g(o,"class","text-2xl"),g(f,"href","."),g(f,"class","text-xl border-green-500 bg-green-300 rounded-md svelte-ywcr2g"),g(E,"href","/"),g(E,"class","text-xl border-blue-500 bg-blue-300 rounded-md svelte-ywcr2g"),g(e,"class","w-screen h-screen fixed z-10 flex flex-col justify-center items-center bg-yellow-300 text-center")},m(M,a){D(M,e,a),_(e,s),_(s,t),_(e,r),_(e,o),_(o,n),_(o,i),_(i,u),_(e,h),_(e,f),_(f,m),_(e,d),_(e,E),_(E,S),v||(b=L(f,"click",l[2]),v=!0)},p:F,i:F,o:F,d(M){M&&p(e),v=!1,b()}}}function gt(l,e,s){let{completionTime:t}=e,r=new Date(null);r.setSeconds(t);let o=String(r.getMinutes()).padStart(2,"0"),n=String(r.getSeconds()).padStart(2,"0");const i=`${o}:${n}`,u=()=>(location.reload(),!1);return l.$$set=h=>{"completionTime"in h&&s(1,t=h.completionTime)},[i,t,u]}class pt extends O{constructor(e){super();X(this,e,gt,mt,q,{completionTime:1})}}function Ne(l){let e,s;return e=new pt({props:{completionTime:l[3]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,r){const o={};r&8&&(o.completionTime=t[3]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function Pe(l){let e,s,t,r,o;return{c(){e=C("span"),s=N("Puzzle is not yet complete"),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=w(e);s=P(i,"Puzzle is not yet complete"),i.forEach(p),this.h()},h(){g(e,"class","inline-block fixed top-2 left-2 sm:relative sm:top-0 sm:left-0 sm:ml-4 sm:mr-auto px-4 py-2 text-xl rounded-sm bg-yellow-200")},m(n,i){D(n,e,i),_(e,s),o=!0},i(n){o||(Le(()=>{r&&r.end(1),t=We(e,Oe,{y:-50,duration:1e3}),t.start()}),o=!0)},o(n){t&&t.invalidate(),r=ze(e,Xe,{}),o=!1},d(n){n&&p(e),n&&r&&r.end()}}}function _t(l){let e,s,t,r,o,n,i,u,h,f,m,d,E,S,v,b,M,a,k,c,T,R,W,H,G=l[2]&&Ne(l),A=l[1]&&Pe();return o=new it({}),i=new ht({props:{controller:l[0]}}),h=new ot({props:{controller:l[0]}}),{c(){G&&G.c(),e=$(),s=C("div"),t=C("div"),A&&A.c(),r=$(),K(o.$$.fragment),n=$(),K(i.$$.fragment),u=$(),K(h.$$.fragment),f=$(),m=C("div"),d=C("button"),E=N("Submit"),S=$(),v=C("button"),b=C("div"),M=$(),a=C("button"),k=$(),c=C("button"),T=N("Submit"),this.h()},l(x){G&&G.l(x),e=I(x),s=y(x,"DIV",{id:!0,class:!0,style:!0});var j=w(s);t=y(j,"DIV",{id:!0,class:!0});var z=w(t);A&&A.l(z),r=I(z),ee(o.$$.fragment,z),n=I(z),ee(i.$$.fragment,z),z.forEach(p),u=I(j),ee(h.$$.fragment,j),f=I(j),m=y(j,"DIV",{id:!0,class:!0});var U=w(m);d=y(U,"BUTTON",{class:!0});var pe=w(d);E=P(pe,"Submit"),pe.forEach(p),S=I(U),v=y(U,"BUTTON",{id:!0,class:!0});var _e=w(v);b=y(_e,"DIV",{class:!0}),w(b).forEach(p),_e.forEach(p),M=I(U),a=y(U,"BUTTON",{id:!0,class:!0}),w(a).forEach(p),k=I(U),c=y(U,"BUTTON",{id:!0,class:!0});var ve=w(c);T=P(ve,"Submit"),ve.forEach(p),U.forEach(p),j.forEach(p),this.h()},h(){g(t,"id","game-header"),g(t,"class","flex flex-shrink-0 flex-grow-0 items-center justify-end text-3xl svelte-1lseo3b"),g(d,"class","hidden sm:block invisible mr-auto ml-16 svelte-1lseo3b"),g(b,"class","svelte-1lseo3b"),g(v,"id","mark-button"),g(v,"class","mx-2 svelte-1lseo3b"),Y(v,"active",l[0].selectionMode===Q.Marking),g(a,"id","cross-button"),g(a,"class","mx-2 svelte-1lseo3b"),Y(a,"active",l[0].selectionMode===Q.Crossing),g(c,"id","submit-button"),g(c,"class","mx-2 sm:ml-auto sm:mr-16 svelte-1lseo3b"),g(m,"id","game-footer"),g(m,"class","flex flex-shrink-0 flex-grow-0 justify-center items-center py-2 svelte-1lseo3b"),g(s,"id","game-container"),g(s,"class","px-2 h-screen svelte-1lseo3b"),we(s,"--crossmarkSvg","url("+l[4]+")"),we(s,"--pencilSvg","url("+l[5]+")")},m(x,j){G&&G.m(x,j),D(x,e,j),D(x,s,j),_(s,t),A&&A.m(t,null),_(t,r),te(o,t,null),_(t,n),te(i,t,null),_(s,u),te(h,s,null),_(s,f),_(s,m),_(m,d),_(d,E),_(m,S),_(m,v),_(v,b),_(m,M),_(m,a),_(m,k),_(m,c),_(c,T),R=!0,W||(H=[L(v,"click",l[9]),L(a,"click",l[10]),L(c,"click",l[6])],W=!0)},p(x,[j]){x[2]?G?(G.p(x,j),j&4&&V(G,1)):(G=Ne(x),G.c(),V(G,1),G.m(e.parentNode,e)):G&&(ae(),B(G,1,1,()=>{G=null}),ce()),x[1]?A?j&2&&V(A,1):(A=Pe(),A.c(),V(A,1),A.m(t,r)):A&&(ae(),B(A,1,1,()=>{A=null}),ce());const z={};j&1&&(z.controller=x[0]),i.$set(z);const U={};j&1&&(U.controller=x[0]),h.$set(U),j&1&&Y(v,"active",x[0].selectionMode===Q.Marking),j&1&&Y(a,"active",x[0].selectionMode===Q.Crossing)},i(x){R||(V(G),V(A),V(o.$$.fragment,x),V(i.$$.fragment,x),V(h.$$.fragment,x),R=!0)},o(x){B(G),B(A),B(o.$$.fragment,x),B(i.$$.fragment,x),B(h.$$.fragment,x),R=!1},d(x){G&&G.d(x),x&&p(e),x&&p(s),A&&A.d(),se(o),se(i),se(h),W=!1,he(H)}}}function vt(l,e,s){let t;ne(l,ie,b=>s(11,t=b));const r=me+"/crossmark.svg",o=me+"/pencil-pictogram.svg";let n=new Qe,{rows:i}=e,{cols:u}=e,h=!1,f=!1,m=null;n.startNewGrid(u,i),Se(()=>{Fe(ie,t=0,t),n.startTimer()});const d=()=>{n.solutionIsValid()?(n.stopTimer(),s(3,m=t),s(2,f=!0)):(s(1,h=!0),E())},E=()=>{setTimeout(()=>{s(1,h=!1)},3e3)},S=()=>s(0,n.selectionMode=Q.Marking,n),v=()=>s(0,n.selectionMode=Q.Crossing,n);return l.$$set=b=>{"rows"in b&&s(7,i=b.rows),"cols"in b&&s(8,u=b.cols)},[n,h,f,m,r,o,d,i,u,S,v]}class bt extends O{constructor(e){super();X(this,e,vt,_t,q,{rows:7,cols:8})}}function Ct(l){let e,s;return e=new bt({props:{rows:l[0],cols:l[1]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,[r]){const o={};r&1&&(o.rows=t[0]),r&2&&(o.cols=t[1]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function yt(l,e,s){let t;ne(l,Je,n=>s(2,t=n));let r=parseInt(t.query.get("rows")),o=parseInt(t.query.get("cols"));return r>=5&&r<=15||(r=5),o>=5&&o<=15||(o=5),[r,o]}class Et extends O{constructor(e){super();X(this,e,yt,Ct,q,{})}}export{Et as default};
