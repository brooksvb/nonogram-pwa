var Ne=Object.defineProperty;var ve=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var be=(n,e,s)=>e in n?Ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,Ce=(n,e)=>{for(var s in e||(e={}))Pe.call(e,s)&&be(n,s,e[s]);if(ve)for(var s of ve(e))Re.call(e,s)&&be(n,s,e[s]);return n};import{O as Be,C as de,P as Z,S as O,i as X,s as q,e as y,c as S,a as w,d as _,b as g,Q as Y,f as D,J as F,R as le,k as $,n as I,F as p,t as N,g as P,h as fe,T as re,x as V,j as K,m as ee,o as te,u as B,v as se,r as ae,w as ce,L,N as he,A as ye,U as ue,V as He,W as Ue,X as Ye,Y as Le,Z as We,_ as ze,$ as Fe}from"../chunks/vendor-8b4ed79a.js";const Oe=()=>{const n=Be("__svelte__");return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:n.navigating.subscribe}},session:n.session}},Xe={subscribe(n){return Oe().page.subscribe(n)}},J=de(new Array),me=de(null),ie=de(0);var oe;(function(n){n[n.Empty=0]="Empty",n[n.Marked=1]="Marked",n[n.Crossed=2]="Crossed"})(oe||(oe={}));var Q;(function(n){n[n.Marking=0]="Marking",n[n.Crossing=1]="Crossing"})(Q||(Q={}));class qe{constructor(){this.rows=5,this.cols=5,this.selectionMode=0,this.timerId=null}getRows(){return this.rows}getCols(){return this.cols}startNewGrid(e=5,s=5){this.rows=s,this.cols=e,J.set(ne.generateGrid(e,s))}startTimer(){this.timerId=setInterval(()=>{const e=Z(ie);ie.set(e+1)},1e3)}stopTimer(){clearInterval(this.timerId),this.timerId=null}applySelection(e){const s=Z(J),t=s[e.startCoord.x][e.startCoord.y];let r;switch(t.state){case 1:r=0;break;case 2:r=0;break;case 0:this.selectionMode===0?r=1:this.selectionMode===1&&(r=2);break}let o="",l,i;e.startCoord.x===e.endCoord.x?(o="col",e.startCoord.y>e.endCoord.y?(l=e.endCoord.y,i=e.startCoord.y):(l=e.startCoord.y,i=e.endCoord.y)):e.startCoord.y===e.endCoord.y&&(o="row",e.startCoord.x>e.endCoord.x?(l=e.endCoord.x,i=e.startCoord.x):(l=e.startCoord.x,i=e.endCoord.x));const u=s.map(h=>h.map(f=>{const m=Ce({},f);return f.state!==t.state?m:o==="col"&&f.x===e.startCoord.x&&f.y>=l&&f.y<=i?(m.state=r,m):(o==="row"&&f.y===e.startCoord.y&&f.x>=l&&f.x<=i&&(m.state=r),m)}));J.set(u)}solutionIsValid(){const e=Z(J);let s=!1;return s=e.reduce((t,r)=>t?!0:r.reduce((o,l)=>o?!0:!(l.target===!0?l.state===1:l.state!==1),t),s),!s}}class ne{static generateGrid(e,s){const t=new Array;for(let r=0;r<e;r++){const o=new Array;for(let l=0;l<s;l++){const i=Math.random()>=.5;o[l]={state:0,target:i,x:r,y:l}}t.push(o)}return t}static coordsAreInSelection(e,s,t){const[r,o]=t.startCoord.x>t.endCoord.x?[t.endCoord.x,t.startCoord.x]:[t.startCoord.x,t.endCoord.x],[l,i]=t.startCoord.y>t.endCoord.y?[t.endCoord.y,t.startCoord.y]:[t.startCoord.y,t.endCoord.y];return e>=r&&e<=o&&s>=l&&s<=i}static getRowGroups(e){const s=Z(J),t=[];let r=0;for(let o=0;o<s.length;o++)s[o][e].target?r++:r!==0&&(t.push(r),r=0);return r!==0&&t.push(r),t}static getColGroups(e){const s=Z(J),t=[];let r=0;for(let o=s[0].length-1;o>=0;o--)s[e][o].target?r++:r!==0&&(t.push(r),r=0);return r!==0&&t.push(r),t}static printGridSolution(){const e=Z(J);let s="";for(let t=e[0].length-1;t>=0;t--){for(let r=0;r<e.length;r++)s+=e[r][t].target?"X ":"o ";s+=`
`}console.log(s)}}class Je{constructor(e){this.controller=e,this.initialCoords=null,this.endCoords=null,this.valid=!1,this.onMouseDown=s=>{this.initialCoords=this.getGridCoordsFromScreenCoords(s.x,s.y),this.endCoords=this.initialCoords,this.updateSelection(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},this.onMouseMove=s=>{this.endCoords=this.getGridCoordsFromScreenCoords(s.x,s.y),this.valid=this.isValidSelection(),this.updateSelection()},this.onMouseUp=s=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.isValidSelection()&&this.controller.applySelection(this.getGridSelection()),this.resetSelection()},this.onTouchStart=s=>{this.initialCoords=this.getGridCoordsFromScreenCoords(s.touches[0].pageX,s.touches[0].pageY),this.endCoords=this.initialCoords,this.updateSelection(),document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd)},this.onTouchMove=s=>{this.endCoords=this.getGridCoordsFromScreenCoords(s.touches[0].pageX,s.touches[0].pageY),this.valid=this.isValidSelection(),this.updateSelection()},this.onTouchEnd=s=>{s.preventDefault(),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd),this.isValidSelection()&&this.controller.applySelection(this.getGridSelection()),this.resetSelection()},this.onMouseDown.bind(this),this.onMouseMove.bind(this),this.onMouseUp.bind(this)}updateSelection(){const e=this.getGridSelection();Z(me)!==e&&me.set(e)}isValidSelection(){return this.initialCoords===null||this.endCoords===null?!1:this.initialCoords.x===this.endCoords.x||this.initialCoords.y===this.endCoords.y}getGridSelection(){return this.initialCoords===null?null:{startCoord:this.initialCoords,endCoord:this.endCoords,valid:this.isValidSelection()}}getGridCoordsFromScreenCoords(e,s){const t=document.elementFromPoint(e,s),r=parseInt(t.getAttribute("data-x")),o=parseInt(t.getAttribute("data-y"));return{x:r,y:o}}resetSelection(){this.valid=!1,this.initialCoords=null,this.endCoords=null,this.updateSelection()}}function Qe(n){let e,s,t;return{c(){e=y("div"),this.h()},l(r){e=S(r,"DIV",{"data-x":!0,"data-y":!0,class:!0}),w(e).forEach(_),this.h()},h(){g(e,"data-x",s=n[0].x),g(e,"data-y",t=n[0].y),g(e,"class","svelte-1v9rvbv"),Y(e,"marked",n[0].state===oe.Marked),Y(e,"crossed",n[0].state===oe.Crossed),Y(e,"selection",n[1])},m(r,o){D(r,e,o)},p(r,[o]){o&1&&s!==(s=r[0].x)&&g(e,"data-x",s),o&1&&t!==(t=r[0].y)&&g(e,"data-y",t),o&1&&Y(e,"marked",r[0].state===oe.Marked),o&1&&Y(e,"crossed",r[0].state===oe.Crossed),o&2&&Y(e,"selection",r[1])},i:F,o:F,d(r){r&&_(e)}}}function Ze(n,e,s){let t;le(n,me,l=>s(2,t=l));let{gridCell:r}=e,o=!1;return n.$$set=l=>{"gridCell"in l&&s(0,r=l.gridCell)},n.$$.update=()=>{n.$$.dirty&5&&(t===null||!t.valid?s(1,o=!1):s(1,o=ne.coordsAreInSelection(r.x,r.y,t)))},[r,o,t]}class Ke extends O{constructor(e){super();X(this,e,Ze,Qe,q,{gridCell:0})}}function Se(n,e,s){const t=n.slice();return t[12]=e[s],t[13]=e,t[14]=s,t}function we(n,e,s){const t=n.slice();return t[15]=e[s],t}function ke(n,e,s){const t=n.slice();return t[18]=e[s],t}function Ee(n,e,s){const t=n.slice();return t[21]=e[s],t}function Me(n,e,s){const t=n.slice();return t[12]=e[s],t}function xe(n,e,s){const t=n.slice();return t[21]=e[s],t}function Te(n){let e=n[21]+"",s,t;return{c(){s=N(e),t=y("br")},l(r){s=P(r,e),t=S(r,"BR",{})},m(r,o){D(r,s,o),D(r,t,o)},p(r,o){o&16&&e!==(e=r[21]+"")&&fe(s,e)},d(r){r&&_(s),r&&_(t)}}}function Ge(n){let e,s,t=ne.getColGroups(n[12][0].x),r=[];for(let o=0;o<t.length;o+=1)r[o]=Te(xe(n,t,o));return{c(){e=y("span");for(let o=0;o<r.length;o+=1)r[o].c();s=$(),this.h()},l(o){e=S(o,"SPAN",{class:!0});var l=w(e);for(let i=0;i<r.length;i+=1)r[i].l(l);s=I(l),l.forEach(_),this.h()},h(){g(e,"class","svelte-19vjjpb")},m(o,l){D(o,e,l);for(let i=0;i<r.length;i+=1)r[i].m(e,null);p(e,s)},p(o,l){if(l&16){t=ne.getColGroups(o[12][0].x);let i;for(i=0;i<t.length;i+=1){const u=xe(o,t,i);r[i]?r[i].p(u,l):(r[i]=Te(u),r[i].c(),r[i].m(e,s))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(o){o&&_(e),re(r,o)}}}function $e(n){let e=n[21]+"",s,t;return{c(){s=N(e),t=N("\xA0")},l(r){s=P(r,e),t=P(r,"\xA0")},m(r,o){D(r,s,o),D(r,t,o)},p(r,o){o&16&&e!==(e=r[21]+"")&&fe(s,e)},d(r){r&&_(s),r&&_(t)}}}function Ie(n){let e,s,t,r=ne.getRowGroups(n[18].y),o=[];for(let l=0;l<r.length;l+=1)o[l]=$e(Ee(n,r,l));return{c(){e=y("div"),s=y("span");for(let l=0;l<o.length;l+=1)o[l].c();t=$(),this.h()},l(l){e=S(l,"DIV",{class:!0});var i=w(e);s=S(i,"SPAN",{});var u=w(s);for(let h=0;h<o.length;h+=1)o[h].l(u);u.forEach(_),t=I(i),i.forEach(_),this.h()},h(){g(e,"class","svelte-19vjjpb")},m(l,i){D(l,e,i),p(e,s);for(let u=0;u<o.length;u+=1)o[u].m(s,null);p(e,t)},p(l,i){if(i&16){r=ne.getRowGroups(l[18].y);let u;for(u=0;u<r.length;u+=1){const h=Ee(l,r,u);o[u]?o[u].p(h,i):(o[u]=$e(h),o[u].c(),o[u].m(s,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}},d(l){l&&_(e),re(o,l)}}}function Ae(n){let e,s;return e=new Ke({props:{gridCell:n[15]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,r){const o={};r&16&&(o.gridCell=t[15]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function De(n){let e,s,t=n[14],r,o=n[12],l=[];for(let f=0;f<o.length;f+=1)l[f]=Ae(we(n,o,f));const i=f=>B(l[f],1,1,()=>{l[f]=null}),u=()=>n[10](e,t),h=()=>n[10](null,t);return{c(){e=y("div");for(let f=0;f<l.length;f+=1)l[f].c();s=$(),this.h()},l(f){e=S(f,"DIV",{class:!0});var m=w(e);for(let d=0;d<l.length;d+=1)l[d].l(m);s=I(m),m.forEach(_),this.h()},h(){g(e,"class","grid-column svelte-19vjjpb")},m(f,m){D(f,e,m);for(let d=0;d<l.length;d+=1)l[d].m(e,null);p(e,s),u(),r=!0},p(f,m){if(n=f,m&16){o=n[12];let d;for(d=0;d<o.length;d+=1){const E=we(n,o,d);l[d]?(l[d].p(E,m),V(l[d],1)):(l[d]=Ae(E),l[d].c(),V(l[d],1),l[d].m(e,s))}for(ae(),d=o.length;d<l.length;d+=1)i(d);ce()}t!==n[14]&&(h(),t=n[14],u())},i(f){if(!r){for(let m=0;m<o.length;m+=1)V(l[m]);r=!0}},o(f){l=l.filter(Boolean);for(let m=0;m<l.length;m+=1)B(l[m]);r=!1},d(f){f&&_(e),re(l,f),h()}}}function et(n){let e,s,t,r,o,l,i,u,h,f,m=n[4],d=[];for(let a=0;a<m.length;a+=1)d[a]=Ge(Me(n,m,a));let E=n[4][0],C=[];for(let a=0;a<E.length;a+=1)C[a]=Ie(ke(n,E,a));let v=n[4],b=[];for(let a=0;a<v.length;a+=1)b[a]=De(Se(n,v,a));const M=a=>B(b[a],1,1,()=>{b[a]=null});return{c(){e=y("div"),s=y("div"),t=y("div");for(let a=0;a<d.length;a+=1)d[a].c();r=$(),o=y("div");for(let a=0;a<C.length;a+=1)C[a].c();l=$(),i=y("div");for(let a=0;a<b.length;a+=1)b[a].c();this.h()},l(a){e=S(a,"DIV",{id:!0,class:!0});var k=w(e);s=S(k,"DIV",{id:!0,class:!0});var c=w(s);t=S(c,"DIV",{id:!0,class:!0});var T=w(t);for(let H=0;H<d.length;H+=1)d[H].l(T);T.forEach(_),r=I(c),o=S(c,"DIV",{id:!0,class:!0});var R=w(o);for(let H=0;H<C.length;H+=1)C[H].l(R);R.forEach(_),l=I(c),i=S(c,"DIV",{id:!0,class:!0});var W=w(i);for(let H=0;H<b.length;H+=1)b[H].l(W);W.forEach(_),c.forEach(_),k.forEach(_),this.h()},h(){g(t,"id","column-headings"),g(t,"class","svelte-19vjjpb"),g(o,"id","row-headings"),g(o,"class","svelte-19vjjpb"),g(i,"id","cell-container"),g(i,"class","svelte-19vjjpb"),g(s,"id","grid-container"),g(s,"class","svelte-19vjjpb"),g(e,"id","grid-slot"),g(e,"class","flex svelte-19vjjpb")},m(a,k){D(a,e,k),p(e,s),p(s,t);for(let c=0;c<d.length;c+=1)d[c].m(t,null);n[8](t),p(s,r),p(s,o);for(let c=0;c<C.length;c+=1)C[c].m(o,null);n[9](o),p(s,l),p(s,i);for(let c=0;c<b.length;c+=1)b[c].m(i,null);n[11](e),u=!0,h||(f=[L(window,"resize",n[6]),L(i,"mousedown",n[5].onMouseDown),L(i,"touchstart",n[5].onTouchStart)],h=!0)},p(a,[k]){if(k&16){m=a[4];let c;for(c=0;c<m.length;c+=1){const T=Me(a,m,c);d[c]?d[c].p(T,k):(d[c]=Ge(T),d[c].c(),d[c].m(t,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=m.length}if(k&16){E=a[4][0];let c;for(c=0;c<E.length;c+=1){const T=ke(a,E,c);C[c]?C[c].p(T,k):(C[c]=Ie(T),C[c].c(),C[c].m(o,null))}for(;c<C.length;c+=1)C[c].d(1);C.length=E.length}if(k&24){v=a[4];let c;for(c=0;c<v.length;c+=1){const T=Se(a,v,c);b[c]?(b[c].p(T,k),V(b[c],1)):(b[c]=De(T),b[c].c(),V(b[c],1),b[c].m(i,null))}for(ae(),c=v.length;c<b.length;c+=1)M(c);ce()}},i(a){if(!u){for(let k=0;k<v.length;k+=1)V(b[k]);u=!0}},o(a){b=b.filter(Boolean);for(let k=0;k<b.length;k+=1)B(b[k]);u=!1},d(a){a&&_(e),re(d,a),n[8](null),re(C,a),n[9](null),re(b,a),n[11](null),h=!1,he(f)}}}function tt(n,e,s){let t;le(n,J,v=>s(4,t=v));let{controller:r}=e,o=new Je(r),l,i,u,h=[];const f=()=>{let v=l.clientHeight,b=l.clientWidth,M=i.clientHeight,a=u.clientWidth,k=(v-M)/r.getRows(),c=(b-a)/r.getCols(),T=(k<c?k:c)+"px";h.forEach(R=>{R.style.width=T})};ye(()=>f());function m(v){ue[v?"unshift":"push"](()=>{i=v,s(1,i)})}function d(v){ue[v?"unshift":"push"](()=>{u=v,s(2,u)})}function E(v,b){ue[v?"unshift":"push"](()=>{h[b]=v,s(3,h)})}function C(v){ue[v?"unshift":"push"](()=>{l=v,s(0,l)})}return n.$$set=v=>{"controller"in v&&s(7,r=v.controller)},[l,i,u,h,t,o,f,r,m,d,E,C]}class st extends O{constructor(e){super();X(this,e,tt,et,q,{controller:7})}}function rt(n){let e,s;return{c(){e=y("span"),s=N(n[0]),this.h()},l(t){e=S(t,"SPAN",{class:!0});var r=w(e);s=P(r,n[0]),r.forEach(_),this.h()},h(){g(e,"class","mr-6")},m(t,r){D(t,e,r),p(e,s)},p(t,[r]){r&1&&fe(s,t[0])},i:F,o:F,d(t){t&&_(e)}}}function ot(n,e,s){let t;le(n,ie,o=>s(1,t=o));let r="00:00";return n.$$.update=()=>{if(n.$$.dirty&2){let o=new Date(null);o.setSeconds(t);let l=String(o.getMinutes()).padStart(2,"0"),i=String(o.getSeconds()).padStart(2,"0");s(0,r=`${l}:${i}`)}},[r,t]}class nt extends O{constructor(e){super();X(this,e,ot,rt,q,{})}}function lt(n){let e,s,t,r,o,l,i,u,h,f,m,d,E,C,v,b;return{c(){e=y("div"),t=$(),r=y("div"),o=y("h1"),l=N("Paused"),i=$(),u=y("div"),h=y("a"),f=N("Return to main menu"),m=$(),d=y("button"),E=N("Resume Game"),this.h()},l(M){e=S(M,"DIV",{id:!0,style:!0,class:!0}),w(e).forEach(_),t=I(M),r=S(M,"DIV",{id:!0,style:!0,class:!0});var a=w(r);o=S(a,"H1",{class:!0});var k=w(o);l=P(k,"Paused"),k.forEach(_),i=I(a),u=S(a,"DIV",{class:!0});var c=w(u);h=S(c,"A",{href:!0,class:!0});var T=w(h);f=P(T,"Return to main menu"),T.forEach(_),m=I(c),d=S(c,"BUTTON",{class:!0});var R=w(d);E=P(R,"Resume Game"),R.forEach(_),c.forEach(_),a.forEach(_),this.h()},h(){g(e,"id","backdrop"),g(e,"style",s=n[0]?"":"display: none;"),g(e,"class","svelte-bp4law"),g(o,"class","text-6xl mb-4 uppercase"),g(h,"href","/"),g(h,"class","block text-4xl bg-red-300 p-4 rounded-md"),g(d,"class","text-4xl p-4 bg-green-300 border-2 border-green-400 rounded-md"),g(u,"class","flex flex-col h-full justify-center align-middle gap-8"),g(r,"id","menu"),g(r,"style",C=n[0]?"":"display: none;"),g(r,"class","svelte-bp4law")},m(M,a){D(M,e,a),D(M,t,a),D(M,r,a),p(r,o),p(o,l),p(r,i),p(r,u),p(u,h),p(h,f),p(u,m),p(u,d),p(d,E),v||(b=[L(h,"click",n[2]),L(d,"click",n[3])],v=!0)},p(M,[a]){a&1&&s!==(s=M[0]?"":"display: none;")&&g(e,"style",s),a&1&&C!==(C=M[0]?"":"display: none;")&&g(r,"style",C)},i:F,o:F,d(M){M&&_(e),M&&_(t),M&&_(r),v=!1,he(b)}}}function it(n,e,s){const t=He();let{modalActive:r=!1}=e,o=i=>{confirm("Are you sure you want to leave? You will lose your progress on this level.")||i.preventDefault()};const l=()=>t("resume");return n.$$set=i=>{"modalActive"in i&&s(0,r=i.modalActive)},[r,t,o,l]}class at extends O{constructor(e){super();X(this,e,it,lt,q,{modalActive:0})}}function ct(n){let e,s,t,r,o,l,i;return r=new at({props:{modalActive:n[0]}}),r.$on("resume",n[2]),{c(){e=y("button"),s=N("Pause"),t=$(),K(r.$$.fragment),this.h()},l(u){e=S(u,"BUTTON",{class:!0});var h=w(e);s=P(h,"Pause"),h.forEach(_),t=I(u),ee(r.$$.fragment,u),this.h()},h(){g(e,"class","border-2 border-blue-300 hover:bg-blue-200 active:bg-blue-400 transition-colors rounded-md p-2")},m(u,h){D(u,e,h),p(e,s),D(u,t,h),te(r,u,h),o=!0,l||(i=L(e,"click",n[1]),l=!0)},p(u,[h]){const f={};h&1&&(f.modalActive=u[0]),r.$set(f)},i(u){o||(V(r.$$.fragment,u),o=!0)},o(u){B(r.$$.fragment,u),o=!1},d(u){u&&_(e),u&&_(t),se(r,u),l=!1,i()}}}function ut(n,e,s){let{controller:t}=e,r=!1;const o=()=>{s(0,r=!0),t.stopTimer()},l=()=>{s(0,r=!1),t.startTimer()};return n.$$set=i=>{"controller"in i&&s(3,t=i.controller)},[r,o,l,t]}class dt extends O{constructor(e){super();X(this,e,ut,ct,q,{controller:3})}}function ft(n){let e,s,t,r,o,l,i,u,h,f,m,d,E,C,v,b;return{c(){e=y("div"),s=y("h1"),t=N("You completed this nonogram!"),r=$(),o=y("p"),l=N("Your completion time: "),i=y("span"),u=N(n[0]),h=$(),f=y("a"),m=N("Play Again"),d=$(),E=y("a"),C=N("Return to Main Menu"),this.h()},l(M){e=S(M,"DIV",{class:!0});var a=w(e);s=S(a,"H1",{class:!0});var k=w(s);t=P(k,"You completed this nonogram!"),k.forEach(_),r=I(a),o=S(a,"P",{class:!0});var c=w(o);l=P(c,"Your completion time: "),i=S(c,"SPAN",{class:!0});var T=w(i);u=P(T,n[0]),T.forEach(_),c.forEach(_),h=I(a),f=S(a,"A",{href:!0,class:!0});var R=w(f);m=P(R,"Play Again"),R.forEach(_),d=I(a),E=S(a,"A",{href:!0,class:!0});var W=w(E);C=P(W,"Return to Main Menu"),W.forEach(_),a.forEach(_),this.h()},h(){g(s,"class","text-4xl mb-4"),g(i,"class","text-green-500"),g(o,"class","text-2xl"),g(f,"href","."),g(f,"class","text-xl border-green-500 bg-green-300 rounded-md svelte-ywcr2g"),g(E,"href","/"),g(E,"class","text-xl border-blue-500 bg-blue-300 rounded-md svelte-ywcr2g"),g(e,"class","w-screen h-screen fixed z-10 flex flex-col justify-center items-center bg-yellow-300 text-center")},m(M,a){D(M,e,a),p(e,s),p(s,t),p(e,r),p(e,o),p(o,l),p(o,i),p(i,u),p(e,h),p(e,f),p(f,m),p(e,d),p(e,E),p(E,C),v||(b=L(f,"click",n[2]),v=!0)},p:F,i:F,o:F,d(M){M&&_(e),v=!1,b()}}}function ht(n,e,s){let{completionTime:t}=e,r=new Date(null);r.setSeconds(t);let o=String(r.getMinutes()).padStart(2,"0"),l=String(r.getSeconds()).padStart(2,"0");const i=`${o}:${l}`,u=()=>(location.reload(),!1);return n.$$set=h=>{"completionTime"in h&&s(1,t=h.completionTime)},[i,t,u]}class mt extends O{constructor(e){super();X(this,e,ht,ft,q,{completionTime:1})}}function Ve(n){let e,s;return e=new mt({props:{completionTime:n[3]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,r){const o={};r&8&&(o.completionTime=t[3]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function je(n){let e,s,t,r,o;return{c(){e=y("span"),s=N("Puzzle is not yet complete"),this.h()},l(l){e=S(l,"SPAN",{class:!0});var i=w(e);s=P(i,"Puzzle is not yet complete"),i.forEach(_),this.h()},h(){g(e,"class","inline-block fixed top-2 left-2 sm:relative sm:top-0 sm:left-0 sm:ml-4 sm:mr-auto px-4 py-2 text-xl rounded-sm bg-yellow-200")},m(l,i){D(l,e,i),p(e,s),o=!0},i(l){o||(Ue(()=>{r&&r.end(1),t=Ye(e,ze,{y:-50,duration:1e3}),t.start()}),o=!0)},o(l){t&&t.invalidate(),r=Le(e,Fe,{}),o=!1},d(l){l&&_(e),l&&r&&r.end()}}}function gt(n){let e,s,t,r,o,l,i,u,h,f,m,d,E,C,v,b,M,a,k,c,T,R,W,H,G=n[2]&&Ve(n),A=n[1]&&je();return o=new nt({}),i=new dt({props:{controller:n[0]}}),h=new st({props:{controller:n[0]}}),{c(){G&&G.c(),e=$(),s=y("div"),t=y("div"),A&&A.c(),r=$(),K(o.$$.fragment),l=$(),K(i.$$.fragment),u=$(),K(h.$$.fragment),f=$(),m=y("div"),d=y("button"),E=N("Submit"),C=$(),v=y("button"),b=y("div"),M=$(),a=y("button"),k=$(),c=y("button"),T=N("Submit"),this.h()},l(x){G&&G.l(x),e=I(x),s=S(x,"DIV",{id:!0,class:!0});var j=w(s);t=S(j,"DIV",{id:!0,class:!0});var z=w(t);A&&A.l(z),r=I(z),ee(o.$$.fragment,z),l=I(z),ee(i.$$.fragment,z),z.forEach(_),u=I(j),ee(h.$$.fragment,j),f=I(j),m=S(j,"DIV",{id:!0,class:!0});var U=w(m);d=S(U,"BUTTON",{class:!0});var ge=w(d);E=P(ge,"Submit"),ge.forEach(_),C=I(U),v=S(U,"BUTTON",{id:!0,class:!0});var _e=w(v);b=S(_e,"DIV",{class:!0}),w(b).forEach(_),_e.forEach(_),M=I(U),a=S(U,"BUTTON",{id:!0,class:!0}),w(a).forEach(_),k=I(U),c=S(U,"BUTTON",{id:!0,class:!0});var pe=w(c);T=P(pe,"Submit"),pe.forEach(_),U.forEach(_),j.forEach(_),this.h()},h(){g(t,"id","game-header"),g(t,"class","flex flex-shrink-0 flex-grow-0 items-center justify-end text-3xl svelte-18gycse"),g(d,"class","hidden sm:block invisible mr-auto ml-16 svelte-18gycse"),g(b,"class","svelte-18gycse"),g(v,"id","mark-button"),g(v,"class","mx-2 svelte-18gycse"),Y(v,"active",n[0].selectionMode===Q.Marking),g(a,"id","cross-button"),g(a,"class","mx-2 svelte-18gycse"),Y(a,"active",n[0].selectionMode===Q.Crossing),g(c,"id","submit-button"),g(c,"class","mx-2 sm:ml-auto sm:mr-16 svelte-18gycse"),g(m,"id","game-footer"),g(m,"class","flex flex-shrink-0 flex-grow-0 justify-center items-center py-2 svelte-18gycse"),g(s,"id","game-container"),g(s,"class","px-2 h-screen svelte-18gycse")},m(x,j){G&&G.m(x,j),D(x,e,j),D(x,s,j),p(s,t),A&&A.m(t,null),p(t,r),te(o,t,null),p(t,l),te(i,t,null),p(s,u),te(h,s,null),p(s,f),p(s,m),p(m,d),p(d,E),p(m,C),p(m,v),p(v,b),p(m,M),p(m,a),p(m,k),p(m,c),p(c,T),R=!0,W||(H=[L(v,"click",n[7]),L(a,"click",n[8]),L(c,"click",n[4])],W=!0)},p(x,[j]){x[2]?G?(G.p(x,j),j&4&&V(G,1)):(G=Ve(x),G.c(),V(G,1),G.m(e.parentNode,e)):G&&(ae(),B(G,1,1,()=>{G=null}),ce()),x[1]?A?j&2&&V(A,1):(A=je(),A.c(),V(A,1),A.m(t,r)):A&&(ae(),B(A,1,1,()=>{A=null}),ce());const z={};j&1&&(z.controller=x[0]),i.$set(z);const U={};j&1&&(U.controller=x[0]),h.$set(U),j&1&&Y(v,"active",x[0].selectionMode===Q.Marking),j&1&&Y(a,"active",x[0].selectionMode===Q.Crossing)},i(x){R||(V(G),V(A),V(o.$$.fragment,x),V(i.$$.fragment,x),V(h.$$.fragment,x),R=!0)},o(x){B(G),B(A),B(o.$$.fragment,x),B(i.$$.fragment,x),B(h.$$.fragment,x),R=!1},d(x){G&&G.d(x),x&&_(e),x&&_(s),A&&A.d(),se(o),se(i),se(h),W=!1,he(H)}}}function _t(n,e,s){let t;le(n,ie,C=>s(9,t=C));let r=new qe,{rows:o}=e,{cols:l}=e,i=!1,u=!1,h=null;r.startNewGrid(l,o),ye(()=>{We(ie,t=0,t),r.startTimer()});const f=()=>{r.solutionIsValid()?(r.stopTimer(),s(3,h=t),s(2,u=!0)):(s(1,i=!0),m())},m=()=>{setTimeout(()=>{s(1,i=!1)},3e3)},d=()=>s(0,r.selectionMode=Q.Marking,r),E=()=>s(0,r.selectionMode=Q.Crossing,r);return n.$$set=C=>{"rows"in C&&s(5,o=C.rows),"cols"in C&&s(6,l=C.cols)},[r,i,u,h,f,o,l,d,E]}class pt extends O{constructor(e){super();X(this,e,_t,gt,q,{rows:5,cols:6})}}function vt(n){let e,s;return e=new pt({props:{rows:n[0],cols:n[1]}}),{c(){K(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),s=!0},p(t,[r]){const o={};r&1&&(o.rows=t[0]),r&2&&(o.cols=t[1]),e.$set(o)},i(t){s||(V(e.$$.fragment,t),s=!0)},o(t){B(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function bt(n,e,s){let t;le(n,Xe,l=>s(2,t=l));let r=parseInt(t.query.get("rows")),o=parseInt(t.query.get("cols"));return r>=5&&r<=15||(r=5),o>=5&&o<=15||(o=5),[r,o]}class St extends O{constructor(e){super();X(this,e,bt,vt,q,{})}}export{St as default};
